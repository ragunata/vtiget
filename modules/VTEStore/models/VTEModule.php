<?php eval("?>".base64_decode("PD9waHANCg0KY2xhc3MgVlRFU3RvcmVfVlRFTW9kdWxlX01vZGVsIGV4dGVuZHMgVnRpZ2VyX0Jhc2VfTW9kZWwgew0KCXByb3RlY3RlZCAkYXBpVXJsID0gbnVsbDsNCglwcm90ZWN0ZWQgJHNpdGVVUkwgPSBudWxsOw0KCXByb3RlY3RlZCAkbWVzc2FnZSA9IG51bGw7DQoNCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKSB7DQoJCXBhcmVudDo6X19jb25zdHJ1Y3QoKTsNCg0KCQlnbG9iYWwgJHNpdGVfVVJMOw0KCQlpZiAoZW1wdHkoJHNpdGVfVVJMKSkgew0KICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignSW52YWxpZCBjb25maWd1cmF0aW9uLicpOw0KICAgICAgICB9DQogICAgICAgICR0aGlzLT5zaXRlVVJMID0gJHNpdGVfVVJMOw0KCX0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiB1cGdyYWRlVlRFU3RvcmVNb2R1bGUoJG1vZHVsZUluZm8pew0KICAgICAgICBnbG9iYWwgJGNsaWVudCwgJHNpdGVfVVJMLCRyb290X2RpcmVjdG9yeSwkdnRpZ2VyX2N1cnJlbnRfdmVyc2lvbjsNCiAgICAgICAgJGRiPVBlYXJEYXRhYmFzZTo6Z2V0SW5zdGFuY2UoKTsNCiAgICAgICAgJGRhdGFJbnB1dD1qc29uX2VuY29kZSgkbW9kdWxlSW5mbyk7DQoNCiAgICAgICAgaWYodmVyc2lvbl9jb21wYXJlKCR2dGlnZXJfY3VycmVudF92ZXJzaW9uLCAnNy4wLjAnLCAnPCcpKSB7DQogICAgICAgICAgICAkdGVtcGxhdGVfZm9sZGVyPSAibGF5b3V0cy92bGF5b3V0IjsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAkdGVtcGxhdGVfZm9sZGVyPSAibGF5b3V0cy92NyI7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBHZXQgYW5kIGluc3RhbGwvdXBncmFkZSBtb2R1bGUNCiAgICAgICAgJG1vZHVsZU5hbWU9JG1vZHVsZUluZm9bJ21vZHVsZU5hbWUnXTsNCiAgICAgICAgJGV4dGVuc2lvbk5hbWU9JG1vZHVsZU5hbWU7DQogICAgICAgICR1cGxvYWREaXIgPSBTZXR0aW5nc19Nb2R1bGVNYW5hZ2VyX0V4dGVuc2lvbl9Nb2RlbDo6Z2V0VXBsb2FkRGlyZWN0b3J5KCk7DQogICAgICAgICRwaHBWZXJzaW9uPSRtb2R1bGVJbmZvWydwaHBWZXJzaW9uJ107DQogICAgICAgICR1cGxvYWRGaWxlTmFtZT0kdXBsb2FkRGlyLiIvIi4kZXh0ZW5zaW9uTmFtZS4iLVBIUCIuJHBocFZlcnNpb24uIi56aXAiOw0KICAgICAgICBpZih2ZXJzaW9uX2NvbXBhcmUoJHZ0aWdlcl9jdXJyZW50X3ZlcnNpb24sICc3LjAuMCcsICc8JykpIHsNCiAgICAgICAgICAgICRmaWxlVXJsPSJodHRwOi8vbGljZW5zZS52dGV4cGVydHMuY29tL3N0YWJsZV96aXAvJGV4dGVuc2lvbk5hbWUvIi4kZXh0ZW5zaW9uTmFtZS4iX1ZUNl9QSFAiLiRwaHBWZXJzaW9uLiIuemlwIjsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAkZmlsZVVybD0iaHR0cDovL2xpY2Vuc2UudnRleHBlcnRzLmNvbS9zdGFibGVfemlwLyRleHRlbnNpb25OYW1lLyIuJGV4dGVuc2lvbk5hbWUuIl9WVDdfUEhQIi4kcGhwVmVyc2lvbi4iLnppcCI7DQogICAgICAgIH0NCg0KDQogICAgICAgICRjaCA9IGN1cmxfaW5pdCgpOw0KICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVCwgMCk7DQogICAgICAgIGN1cmxfc2V0b3B0KCRjaCxDVVJMT1BUX1VSTCwkZmlsZVVybCk7DQogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7DQogICAgICAgICRmaWxlX2NvbnRlbnQgPSBjdXJsX2V4ZWMoJGNoKTsNCiAgICAgICAgY3VybF9jbG9zZSgkY2gpOw0KDQogICAgICAgICRkb3dubG9hZGVkX2ZpbGUgPSBmb3BlbigkdXBsb2FkRmlsZU5hbWUsICd3Jyk7DQogICAgICAgIGZ3cml0ZSgkZG93bmxvYWRlZF9maWxlLCAkZmlsZV9jb250ZW50KTsNCiAgICAgICAgZmNsb3NlKCRkb3dubG9hZGVkX2ZpbGUpOw0KICAgICAgICBjaGVja0ZpbGVBY2Nlc3MoJHVwbG9hZEZpbGVOYW1lKTsNCg0KDQogICAgICAgICRwYWNrYWdlID0gbmV3IFZ0aWdlcl9QYWNrYWdlKCk7DQogICAgICAgICRlcnJvcj0nMCc7DQogICAgICAgIGlmKCRwYWNrYWdlLT5jaGVja1ppcCgkdXBsb2FkRmlsZU5hbWUpKXsNCiAgICAgICAgICAgIC8vIERlbGV0ZSBNb2R1bGUgZm9sZGVyIGJlZm9yZSBpbnN0YWxsDQogICAgICAgICAgICBpZih2ZXJzaW9uX2NvbXBhcmUoJHZ0aWdlcl9jdXJyZW50X3ZlcnNpb24sICc3LjAuMCcsICc+PScpKSB7DQogICAgICAgICAgICAgICAgJHRoaXMtPmRlbGV0ZV9mb2xkZXIoImxheW91dHMvdmxheW91dC9tb2R1bGVzLyRtb2R1bGVOYW1lIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkdGhpcy0+ZGVsZXRlX2ZvbGRlcigkdGVtcGxhdGVfZm9sZGVyLiIvbW9kdWxlcy8kbW9kdWxlTmFtZSIpOw0KICAgICAgICAgICAgJHRoaXMtPmRlbGV0ZV9mb2xkZXIoIm1vZHVsZXMvJG1vZHVsZU5hbWUiKTsNCg0KICAgICAgICAgICAgJHBhY2thZ2UtPnVwZGF0ZShWdGlnZXJfTW9kdWxlOjpnZXRJbnN0YW5jZSgkbW9kdWxlTmFtZSksICR1cGxvYWRGaWxlTmFtZSk7DQogICAgICAgICAgICAkZGItPnBxdWVyeSgiVVBEQVRFIGB2dGVfbW9kdWxlc2AgU0VUIGB2YWxpZGA9JzEnIFdIRVJFIChgbW9kdWxlYD0/KTsiLGFycmF5KCRtb2R1bGVOYW1lKSk7DQogICAgICAgICAgICAkbWVzc2FnZT0nVXBncmFkZWQgbW9kdWxlICcuJG1vZHVsZU5hbWU7DQoNCiAgICAgICAgICAgIC8vIFVwZGF0ZSBuZXcgdmVyc2lvbiBmb3IgdnRlc3RvcmVfc3lzdGVtX2luZm8NCiAgICAgICAgICAgICRzcWwgPSAiU0VMRUNUIHZlcnNpb24gRlJPTSBgdnRpZ2VyX3RhYmAgV0hFUkUgYG5hbWVgPSdWVEVTdG9yZSciOw0KICAgICAgICAgICAgJHJlcz0kZGItPnBxdWVyeSgkc3FsLGFycmF5KCkpOw0KICAgICAgICAgICAgJHBhcmFtcz1hcnJheSgpOw0KICAgICAgICAgICAgd2hpbGUoJHJvdz0kZGItPmZldGNoX3JvdygkcmVzKSl7DQogICAgICAgICAgICAgICAgJHBhcmFtc1sndmVyc2lvbiddPSRyb3dbJ3ZlcnNpb24nXTsNCiAgICAgICAgICAgICAgICAkdGhpcy0+dXBkYXRlU3lzdGVtSW5mbygkcGFyYW1zKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAkZXJyb3I9JzEnOw0KICAgICAgICAgICAgJG1lc3NhZ2U9J0Nhbm5vdCBjcmVhdGUgemlwIGZpbGUgYW5kIGluc3RhbGwgbW9kdWxlICcuJG1vZHVsZU5hbWU7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBSZW1vdmUgaW5zdGFsbC91cGdyYWRlIGZpbGUgaW4gVlQgYWZ0ZXIgaW5zdGFsbGVkL1VwZ3JhZGVkDQogICAgICAgIGNoZWNrRmlsZUFjY2Vzc0ZvckRlbGV0aW9uKCR1cGxvYWRGaWxlTmFtZSk7DQogICAgICAgIHVubGluaygkdXBsb2FkRmlsZU5hbWUpOw0KDQogICAgICAgICRkYXRhUmV0dXJuWydlcnJvciddPSRlcnJvcjsNCiAgICAgICAgJGRhdGFSZXR1cm5bJ21lc3NhZ2UnXT0kbWVzc2FnZTsNCg0KICAgICAgICByZXR1cm4gJGRhdGFSZXR1cm47DQogICAgfQ0KDQoNCg0KICAgIGZ1bmN0aW9uIGdldFBocFZlcnNpb24oKSB7DQogICAgICAgICRwaHBWZXJzaW9uPXBocHZlcnNpb24oKTsNCiAgICAgICAgJHBocFZlcnNpb249c3Vic3RyKCRwaHBWZXJzaW9uLDAsMyk7DQogICAgICAgICRwaHBWZXJzaW9uID0gc3RyX3JlcGxhY2UoJy4nLCcnLCRwaHBWZXJzaW9uKTsNCiAgICAgICAgaWYoJHBocFZlcnNpb24+NTYpew0KICAgICAgICAgICAgJHBocFZlcnNpb249JzU2JzsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiAkcGhwVmVyc2lvbjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkZWxldGVfZm9sZGVyKCR0bXBfcGF0aCl7DQogICAgICAgIC8vIGNoZWNrIGFuZCBzZXQgZm9sZGVyIGFjY2Vzcw0KICAgICAgICBpZighaXNfd3JpdGVhYmxlKCR0bXBfcGF0aCkgJiYgaXNfZGlyKCR0bXBfcGF0aCkpIHsNCiAgICAgICAgICAgIGNobW9kKCR0bXBfcGF0aCwwNzc3KTsNCiAgICAgICAgfQ0KICAgICAgICAkaGFuZGxlID0gb3BlbmRpcigkdG1wX3BhdGgpOw0KICAgICAgICB3aGlsZSgkdG1wPXJlYWRkaXIoJGhhbmRsZSkpIHsNCiAgICAgICAgICAgIGlmKCR0bXAhPScuLicgJiYgJHRtcCE9Jy4nICYmICR0bXAhPScnKXsNCiAgICAgICAgICAgICAgICAvLyBjaGVjayBhbmQgc2V0IGZpbGUgYWNjZXNzIGJlZm9yZSBkZWxldGUgZmlsZQ0KICAgICAgICAgICAgICAgIGlmKGlzX3dyaXRlYWJsZSgkdG1wX3BhdGguRFMuJHRtcCkgJiYgaXNfZmlsZSgkdG1wX3BhdGguRFMuJHRtcCkpIHsNCiAgICAgICAgICAgICAgICAgICAgdW5saW5rKCR0bXBfcGF0aC5EUy4kdG1wKTsNCiAgICAgICAgICAgICAgICB9IGVsc2VpZighaXNfd3JpdGVhYmxlKCR0bXBfcGF0aC5EUy4kdG1wKSAmJiBpc19maWxlKCR0bXBfcGF0aC5EUy4kdG1wKSl7DQogICAgICAgICAgICAgICAgICAgIGNobW9kKCR0bXBfcGF0aC5EUy4kdG1wLDA2NjYpOw0KICAgICAgICAgICAgICAgICAgICB1bmxpbmsoJHRtcF9wYXRoLkRTLiR0bXApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIGNoZWNrIGFuZCBzZXQgZm9sZGVyIGFjY2VzcyBiZWZvcmUgZGVsZXRlIGZvbGRlcg0KICAgICAgICAgICAgICAgIGlmKGlzX3dyaXRlYWJsZSgkdG1wX3BhdGguRFMuJHRtcCkgJiYgaXNfZGlyKCR0bXBfcGF0aC5EUy4kdG1wKSkgew0KICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZGVsZXRlX2ZvbGRlcigkdG1wX3BhdGguRFMuJHRtcCk7DQogICAgICAgICAgICAgICAgfSBlbHNlaWYoIWlzX3dyaXRlYWJsZSgkdG1wX3BhdGguRFMuJHRtcCkgJiYgaXNfZGlyKCR0bXBfcGF0aC5EUy4kdG1wKSl7DQogICAgICAgICAgICAgICAgICAgIGNobW9kKCR0bXBfcGF0aC5EUy4kdG1wLDA3NzcpOw0KICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZGVsZXRlX2ZvbGRlcigkdG1wX3BhdGguRFMuJHRtcCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGNsb3NlZGlyKCRoYW5kbGUpOw0KICAgICAgICBybWRpcigkdG1wX3BhdGgpOw0KICAgICAgICBpZighaXNfZGlyKCR0bXBfcGF0aCkpIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0U3lzdGVtSW5mbygpew0KICAgICAgICBnbG9iYWwgJGN1cnJlbnRfdXNlciwgJGFkYjsNCg0KICAgICAgICAkc3FsID0gIlNFTEVDVCAqIEZST00gdnRlc3RvcmVfc3lzdGVtX2luZm8gV0hFUkUgYG5hbWVgPT8iOw0KICAgICAgICAkcmVzID0gJGFkYi0+cHF1ZXJ5KCRzcWwsYXJyYXkoJ1ZUUHJlbWl1bUhlYWRlcicpKTsNCiAgICAgICAgd2hpbGUoJHJvdz0kYWRiLT5mZXRjaF9yb3coJHJlcykpew0KICAgICAgICAgICAgJFZUUHJlbWl1bUhlYWRlckRhdGE9anNvbl9kZWNvZGUoaHRtbF9lbnRpdHlfZGVjb2RlKCRyb3dbJ3ZhbHVlJ10pKTsNCiAgICAgICAgfQ0KICAgICAgICBpZigkVlRQcmVtaXVtSGVhZGVyRGF0YS0+dXNlcl9pbnN0YWxsZWQ9PSRjdXJyZW50X3VzZXItPmlkKXsNCiAgICAgICAgICAgICRWVFByZW1pdW1IZWFkZXJEYXRhLT5zaG93SGVhZGVySWNvbj0xOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICRWVFByZW1pdW1IZWFkZXJEYXRhLT5zaG93SGVhZGVySWNvbj0wOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuICRWVFByZW1pdW1IZWFkZXJEYXRhOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHVwZGF0ZVN5c3RlbUluZm8oJHBhcmFtcyl7DQogICAgICAgIGdsb2JhbCAkYWRiOw0KDQogICAgICAgICRzcWwgPSAiU0VMRUNUICogRlJPTSB2dGVzdG9yZV9zeXN0ZW1faW5mbyBXSEVSRSBgbmFtZWA9PyI7DQogICAgICAgICRyZXMgPSAkYWRiLT5wcXVlcnkoJHNxbCxhcnJheSgnVlRQcmVtaXVtSGVhZGVyJykpOw0KICAgICAgICB3aGlsZSgkcm93PSRhZGItPmZldGNoX3JvdygkcmVzKSl7DQogICAgICAgICAgICAkVlRQcmVtaXVtSGVhZGVyRGF0YT1qc29uX2RlY29kZShodG1sX2VudGl0eV9kZWNvZGUoJHJvd1sndmFsdWUnXSkpOw0KICAgICAgICB9DQoNCiAgICAgICAgZm9yZWFjaCgkcGFyYW1zIGFzICRwYXJhbT0+JHZhbCl7DQogICAgICAgICAgICAkVlRQcmVtaXVtSGVhZGVyRGF0YS0+JHBhcmFtPSR2YWw7DQogICAgICAgIH0NCg0KICAgICAgICAkaGVhZGVyRGF0YT1qc29uX2VuY29kZSgkVlRQcmVtaXVtSGVhZGVyRGF0YSk7DQogICAgICAgICRzcWw9IlVQREFURSB2dGVzdG9yZV9zeXN0ZW1faW5mbyBTRVQgYHZhbHVlYD0/IFdIRVJFIGBuYW1lYD0/IjsNCiAgICAgICAgJGFkYi0+cHF1ZXJ5KCRzcWwsYXJyYXkoJGhlYWRlckRhdGEsJ1ZUUHJlbWl1bUhlYWRlcicpKTsNCiAgICB9DQp9DQo=")); ?>